<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1.0">
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous">
      </script>
   <link rel="stylesheet" href="../src/css/style.css">
   <title>Página Principal</title>
</head>

<body>
   <header class="py-3 border-bottom">
      <div class="container-fluid row align-items-center">
         <div class="dropdown col-12 col-lg-3 col-md-3">
            <a href="../html/indexAdmin.html"
               class="d-flex align-items-center col-lg-4 mb-2 mb-lg-0 link-body-emphasis text-decoration-none">
               <img src="../src/img/wallpaper/logo.png" alt="logo-Sao" class="d-block " width="100" height="40"
                  style="margin: 0 auto;">
            </a>
         </div>

         <div class="d-flex align-items-center d-grid gap-2 align-items-center col-12 col-lg-9 col-md-9"
            style="grid-template-columns: 95% 1fr;">
            <!-- Search -->
            <form class="w-100 me-3" role="search">
               <div class="input-group ">
                  <span class="input-group-text" id="basic-addon1" style="background-color: #fe6347;color: white;">
                     <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em"
                        width="1em" xmlns="http://www.w3.org/2000/svg">
                        <path
                           d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z">
                        </path>
                     </svg>
                  </span>
                  <input type="text" class="form-control input" placeholder="¿Que desea encontrar?"
                     aria-label="Username" aria-describedby="basic-addon1">
               </div>
            </form>

            <div class="flex-shrink-0 dropdown">
               <a href="#" class="d-block link-body-emphasis text-decoration-none dropdown-toggle fs-2"
                  data-bs-toggle="dropdown" aria-expanded="false">
                  <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em"
                     width="1em" xmlns="http://www.w3.org/2000/svg">
                     <path d="M3 4H21V6H3V4ZM9 11H21V13H9V11ZM3 18H21V20H3V18Z"></path>
                  </svg>
               </a>
               <ul class="dropdown-menu text-small shadow">
                  <li><a class="dropdown-item mb-2 py-2 " href="../html/cuentaAdmin.html">
                        <svg class="fs-3" stroke="currentColor" fill="currentColor" stroke-width="0"
                           viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
                           <path
                              d="M313.6 304c-28.7 0-42.5 16-89.6 16-47.1 0-60.8-16-89.6-16C60.2 304 0 364.2 0 438.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-25.6c0-74.2-60.2-134.4-134.4-134.4zM400 464H48v-25.6c0-47.6 38.8-86.4 86.4-86.4 14.6 0 38.3 16 89.6 16 51.7 0 74.9-16 89.6-16 47.6 0 86.4 38.8 86.4 86.4V464zM224 288c79.5 0 144-64.5 144-144S303.5 0 224 0 80 64.5 80 144s64.5 144 144 144zm0-240c52.9 0 96 43.1 96 96s-43.1 96-96 96-96-43.1-96-96 43.1-96 96-96z">
                           </path>
                        </svg>
                        <span class="container">Cuenta</span>
                     </a></li>
               </ul>
            </div>
         </div>
      </div>
   </header>

   <div class="container mx-auto row py-5 d-flex justify-content-between">
      <div class="container shadow-sm col-6 row">
         <div class="row">
            <div class="col-12">
               <h4>Mi cuenta</h4>
               <hr>
            </div>
         </div>
         <div class="row">
            <div class="mb-3">
               <div class="form-group">
                  <label for="name">Nombre:</label>
               </div>
               <div class="form-group">
                  <label for="email">Correo Electrónico:</label>
                  <div class="form-group">
                     <label for="change-password">Contraseña:</label>
                     <a class="nav-link nav-item" href="#">Cambiar contraseña</a>
                  </div>
                  <div class="form-group">
                     <label for="address-register">Registro de direcciones:</label>
                     <a class="nav-link nav-item" href="#">Registrar dirección</a>
                  </div>
                  <div class="form-group">
                     <a href="#" class="btn btn-danger">Eliminar cuenta</a>
                  </div>
               </div>
            </div>
         </div>
      </div>

      <div class="container shadow-sm col-6 row">
         <div class="row">
            <div class="mb-3">
               <h4>Herramientas de Administrador</h4>
               <hr>
            </div>
         </div>
         <div class="row">
            <div class="col-6">
               <div class="form-group">
                  <label for="name">Ventas realizadas y monitoreo de pedidos</label>
               </div>
               <div class="form-group">
                  <label for="email">Informes de Utilidad</label>
                  <div class="form-group">
                     <a class="nav-link nav-item" href="#">Adiministrar Productos</a>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
   <div class="container mt-5 mx-auto">
      <div class="container d-flex justify-content-end">
         <a href="./registroProductos.html">
            <button type="submit" class="btn btn-primary">Registrar producto</button><br>
         </a>
      </div>
      <div class="row">
         <div class="col-12">
            <h2>Productos</h2>
         </div>
      </div>
      <table className="container table table-striped shadow-sm" style="width: 100%;">
         <thead>
            <tr style="text-transform: lowercase;">
               <th style="text-transform: capitalize;">NOMBRE</th>
               <th style="text-transform: capitalize;">CATEGORIA</th>
               <th style="text-transform: capitalize;">CANTIDAD</th>
               <th style="text-transform: capitalize;">DETALLES</th>
               <th style="text-transform: capitalize;">PRECIO</th>
               <th style="text-transform: capitalize;">IMAGENES</th>
               <th style="text-transform: capitalize;"></th>
            </tr>
         </thead>
         <tbody id="productos">
         </tbody>
      </table>
   </div>
   <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>

   <script>
      const componenteDelProducto= ({id,name,category,stock,description,price,imagen})=>{
         return `
         <tr>
            <td>${id} ${name}</td>
            <td>${category}</td>
            <td>${stock}</td>
            <td>${description}</td>
            <td>${price}</td>
            <td>
               <img src="${imagen}" style="width:100%; height:100px;object-fit:contain" alt="Imagen"
            />
              
            </td>
            <td>
               <a href="http://localhost/SAO/html/registroProductos.html?id=${id}">
                  <button class="btn btn-primary">Editar</button>
               </a>
               <button class="btn btn-danger"
                  onClick="eliminar('${id}','${name}')"
               >Eliminar</button>
            </td>
         </tr>
         `
      }
      const eliminar = async (id,name) =>{
         if(confirm("¿Esta seguro? de eliminar: "+name))
         await fetch("../php/products/delete.php?id_product="+id)
             .then(res => res.json())
             .then(data => {
                 console.log(data)
                 alert(data.data)
                 if(data.success) window.location.reload()
             })
             .catch(err => console.log(err))
      }
      const obtenerProductos = async () => {
         await fetch("../php/products/getAllProducts.php")
             .then(res => res.json())
             .then(data => {
                 console.log(data)
                 data.data.map(r => {
                    document.getElementById("productos").innerHTML += componenteDelProducto(r)
                 });
             })
             .catch(err => console.log(err))
 
     }
     obtenerProductos()
   </script>

   <!--<div>
      <div class="container">
         <h1>Registrar Artículo</h1>
         <form action="../php/admin/add_producto.php" method="post">
           <div class="form-group">
             <label for="product_name">Nombre del Producto:</label>
             <input type="text" class="form-control" id="product_name" name="product_name" required>
           </div>
           <div class="form-group">
             <label for="category">Categoría:</label>
             <select class="form-control" id="category" name="category" required>
               <option value="O Papeleria">Papeleria</option>
               <option value="O Electrónica">Electrónica</option>
               <option value="O Mobiliario">Mobiliario</option>
             </select>
           </div>
           <div class="form-group">
             <label for="quantity">Cantidad de Artículos:</label>
             <input type="number" class="form-control" id="quantity" name="quantity" required>
           </div>
           <div class="form-group">
             <label for="product_details">Detalles del Producto:</label>
             <textarea class="form-control" id="product_details" name="product_details" required></textarea>
           </div>
           <div class="form-group">
             <label for="price">Precio:</label>
             <input type="number" step="0.01" class="form-control" id="price" name="price" required>
           </div>
           <form method="post" enctype="multipart/form-data" action="<?php echo htmlspecialchars  ?>" >
            <label for="product_details">Imagenes:</label>
            <input type="file" name="image" id="image">
            <input type="submit" value="Subir Imagen" name="submit">
          </form>
           <button type="submit" class="btn btn-primary">Registrar</button>
         </form>
       </div>
   </div>
-->
</body>

</html>